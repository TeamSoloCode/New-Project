(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{908:function(e,a,t){"use strict";t.r(a);var n,s=t(21),r=t(0),l=t(610),c=t.n(l),i=t(28),m=t(27),d=t(29),u=t(40),E=(t(609),t(25)),o=t(329);!function(e){e[e.CREATE_EVENT=0]="CREATE_EVENT",e[e.CREATE_EVENT_SUCCESSFUL=1]="CREATE_EVENT_SUCCESSFUL",e[e.CREATE_EVENT_FAILED=2]="CREATE_EVENT_FAILED"}(n||(n={}));var b={event:null,results:null,creating:!1,error:!1,message:""};function h(e,a){switch(void 0===e&&(e=b),a.type){case n.CREATE_EVENT:return Object(s.a)(Object(s.a)({},e),{creating:!0});case n.CREATE_EVENT_SUCCESSFUL:return Object(s.a)(Object(s.a)({},e),{results:a.results,creating:!1,message:a.message,error:!1});case n.CREATE_EVENT_FAILED:return Object(s.a)(Object(s.a)({},e),{message:a.message,error:!0});default:return e}}a.default=Object(E.f)(r.memo((function(e){var a=r.useReducer(h,b),t=a[0],l=a[1],E=r.useState(new Date),T=E[0],w=E[1],y=r.useState(new Date),C=y[0],p=y[1],N=r.useState(""),g=N[0],v=N[1],f=r.useState(""),S=f[0],_=f[1],A=r.useState(""),k=A[0],R=A[1],L=r.useState(""),x=L[0],P=L[1],V=r.useState(""),j=V[0],D=V[1],F=r.useState(""),I=F[0],O=F[1],M=r.useState(void 0),U=M[0],q=M[1],J=r.useState(void 0),B=J[0],H=J[1],z=r.useState(!1),G=z[0],K=z[1],Q=r.useCallback((function(e){R(e.target.value)}),[]),W=r.useCallback((function(e){P(e.target.value)}),[]),X=r.useCallback((function(e){D(e.currentTarget.value)}),[]),Y=r.useCallback((function(e){O(e.currentTarget.value)}),[]),Z=r.useCallback((function(e){q(e.currentTarget.value)}),[]),$=r.useCallback((function(e){H(e.currentTarget.value)}),[]),ee=r.useCallback((function(){return Object(s.b)(void 0,void 0,void 0,(function(){var a,t,r;return Object(s.c)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,5,6]),l({type:n.CREATE_EVENT}),a={},k&&(a.eventName=k),x&&(a.location=x),g&&(a.beginDatetime=g),S&&(a.endDatetime=S),j&&(a.descriptions=j),I&&(a.detailLink=I),B&&(a.sequence=B),U&&(a.show=U),[4,fetch(u.a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})];case 1:return(t=s.sent())?[4,t.json()]:[3,3];case 2:if(0!=(r=s.sent()).code)throw l({type:n.CREATE_EVENT_FAILED,message:r.message.sqlMessage}),Error(r.message.sqlMessage);l({type:n.CREATE_EVENT_SUCCESSFUL,results:r.data,message:"Insert event successfull !!!"}),e.history.push("/update_event/"+r.data.id),s.label=3;case 3:return[3,6];case 4:return s.sent(),[3,6];case 5:return K(!0),[7];case 6:return[2]}}))}))}),[k,x,g,S,j,I,U,B]);r.useLayoutEffect((function(){})),r.useEffect((function(){t.creating}),[t.creating]);return r.createElement(r.Fragment,null,r.createElement("h1",null,"Add New Event"),r.createElement(o.a,{className:"ml-2",onClose:function(){return K(!1)},show:G,delay:3e3,autohide:!0},r.createElement(o.a.Header,null,r.createElement(d.a,{className:"mr-1",variant:"success",style:{width:16,height:16,borderRadius:8}}),r.createElement("strong",{className:"mr-auto"},"Message")),r.createElement(o.a.Body,null,t.message)),r.createElement("div",{className:"m-4"},r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Event name")),r.createElement(m.a,{value:k,onChange:Q,style:{width:"90%"},"aria-describedby":"basic-addon1"})),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Location")),r.createElement(m.a,{value:x,onChange:W,style:{width:"90%"},"aria-describedby":"basic-addon1"})),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Link to detail")),r.createElement(m.a,{value:I,onChange:Y,style:{width:"90%"},placeholder:"https://example.com/users/","aria-label":"linkToDetail","aria-describedby":"basic-addon1"})),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100"},"Start Time")),r.createElement(m.a,{value:g,"aria-describedby":"basic-addon2"}),r.createElement(i.a.Append,null,r.createElement(c.a,{className:"h-100",id:"basic-addon2",selected:T,withPortal:!0,onChange:function(e){return w(e)},timeInputLabel:"Time:",customInput:r.createElement((function(e){var a=e.value,t=e.onClick;return v(a),r.createElement(i.a.Prepend,{onClick:t},r.createElement(i.a.Text,{className:"w-100"},"Calendar"))}),null),dateFormat:"MM/dd/yyyy h:mm aa",showTimeInput:!0}))),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100"},"End Time")),r.createElement(m.a,{value:S,"aria-describedby":"basic-addon2"}),r.createElement(i.a.Append,null,r.createElement(c.a,{className:"h-100",id:"basic-addon2",selected:C,withPortal:!0,onChange:function(e){return p(e)},timeInputLabel:"Time:",customInput:r.createElement((function(e){var a=e.value,t=e.onClick;return _(a),r.createElement(i.a.Prepend,{onClick:t},r.createElement(i.a.Text,{className:"w-100"},"Calendar"))}),null),dateFormat:"MM/dd/yyyy h:mm aa",showTimeInput:!0}))),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100"},"Description")),r.createElement(m.a,{value:j,onChange:X,style:{width:"90%"},as:"textarea",placeholder:"Event description","aria-label":"eventDescription"})),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Show on client")),r.createElement(m.a,{value:U,onChange:Z,style:{width:"90%"},"aria-describedby":"basic-addon1"})),r.createElement(i.a,{className:"mb-3"},r.createElement(i.a.Prepend,{style:{width:"10%"}},r.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Sequence")),r.createElement(m.a,{value:B,onChange:$,style:{width:"90%"},"aria-describedby":"basic-addon1"}))),r.createElement(o.a,{className:"ml-2",onClose:function(){return K(!1)},show:G,delay:3e3,autohide:!0},r.createElement(o.a.Header,null,r.createElement(d.a,{className:"mr-1",variant:"success",style:{width:16,height:16,borderRadius:8}}),r.createElement("strong",{className:"mr-auto"},"Message")),r.createElement(o.a.Body,null,t.message)),r.createElement("div",{className:"text-center mb-2"},r.createElement(d.a,{variant:"primary",onClick:ee},"Submit")))})))}}]);