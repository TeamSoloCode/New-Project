(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{121:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return c})),a.d(t,"n",(function(){return l})),a.d(t,"o",(function(){return i})),a.d(t,"h",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"k",(function(){return d})),a.d(t,"j",(function(){return o})),a.d(t,"e",(function(){return E})),a.d(t,"i",(function(){return b})),a.d(t,"f",(function(){return h})),a.d(t,"l",(function(){return f})),a.d(t,"d",(function(){return v})),a.d(t,"m",(function(){return p}));var n="http://54.251.85.88:5000/",r=n+"all_events",s=n+"get_event_by_id",c=n+"add_event",l=n+"update_event",i=n+"upload_image",u=n+"image/",m=n+"fetch_all_ano_comments",d=n+"update_ano_comment_show_stat",o=n+"update_ano_comment_sequence",E=n+"all_registers",b=n+"resend_email",h=n+"fetch_email_config",f=n+"update_email_config",v=n+"all_features",p=n+"update_feature"},901:function(e,t,a){"use strict";a.r(t);var n,r=a(29),s=a(0),c=a(602),l=a.n(c),i=a(391),u=a(31),m=a(30),d=a(121),o=(a(601),a(19)),E=a(319);!function(e){e[e.FETCH_EVENT=0]="FETCH_EVENT",e[e.FETCH_EVENT_SUCCESSED=1]="FETCH_EVENT_SUCCESSED",e[e.FETCH_EVENT_FAILED=2]="FETCH_EVENT_FAILED",e[e.UPDATE_EVENT=3]="UPDATE_EVENT",e[e.UPDATE_EVENT_SUCCESSFUL=4]="UPDATE_EVENT_SUCCESSFUL",e[e.UPDATE_EVENT_FAILED=5]="UPDATE_EVENT_FAILED"}(n||(n={}));var b={event:null,results:null,updating:!1,fetching:!1,error:!1,message:""};function h(e,t){switch(void 0===e&&(e=b),t.type){case n.FETCH_EVENT:return Object(r.a)(Object(r.a)({},e),{updating:!0});case n.FETCH_EVENT_SUCCESSED:return Object(r.a)(Object(r.a)({},e),{event:t.event,fetching:!1,message:t.message,error:!1});case n.FETCH_EVENT_FAILED:return Object(r.a)(Object(r.a)({},e),{message:t.message,error:!0});case n.UPDATE_EVENT:return Object(r.a)(Object(r.a)({},e),{updating:!0});case n.UPDATE_EVENT_SUCCESSFUL:return Object(r.a)(Object(r.a)({},e),{results:t.results,updating:!1,message:t.message,error:!1});case n.UPDATE_EVENT_FAILED:return Object(r.a)(Object(r.a)({},e),{message:t.message,error:!0});default:return e}}t.default=Object(o.f)(s.memo((function(e){var t=s.useReducer(h,b),a=t[0],c=t[1],o=s.useState(null),f=o[0],v=o[1],p=s.useState(new Date),g=p[0],T=p[1],_=s.useState(new Date),w=_[0],N=_[1],y=s.useState(""),C=y[0],S=y[1],D=s.useState(""),U=D[0],F=D[1],j=s.useState(""),P=j[0],O=j[1],V=s.useState(""),k=V[0],A=V[1],I=s.useState(""),L=I[0],x=I[1],H=s.useState(""),M=H[0],q=H[1],R=s.useState(void 0),J=R[0],B=R[1],z=s.useState(void 0),G=z[0],K=z[1],Q=s.useState(""),W=Q[0],X=Q[1],Y=s.useState(!1),Z=Y[0],$=Y[1],ee=s.createRef(),te=s.useCallback((function(e){O(e.target.value)}),[]),ae=s.useCallback((function(e){X(e.target.value)}),[]),ne=s.useCallback((function(e){return Object(r.b)(void 0,void 0,void 0,(function(){var t,a,n,s;return Object(r.d)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),ee.current&&ee.current.files?(t=ee.current.files[0])?((a=new FormData).append("image",t),[4,fetch(d.o,{method:"POST",body:a})]):[2]:[3,3];case 1:return(n=r.sent())?[4,n.json()]:[3,3];case 2:s=r.sent().imageInfo,X(s.filename),r.label=3;case 3:return[2]}}))}))}),[ee]),re=s.useCallback((function(e){A(e.target.value)}),[]),se=s.useCallback((function(e){x(e.currentTarget.value)}),[]),ce=s.useCallback((function(e){q(e.currentTarget.value)}),[]),le=s.useCallback((function(e){B(e.currentTarget.value)}),[]),ie=s.useCallback((function(e){K(e.currentTarget.value)}),[]),ue=s.useCallback((function(){return Object(r.b)(void 0,void 0,void 0,(function(){var t,a,s,l;return Object(r.d)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,5,6]),c({type:n.UPDATE_EVENT}),t=e.match.params,a={},P&&(a.eventName=P),k&&(a.location=k),C&&(a.beginDatetime=C),U&&(a.endDatetime=U),L&&(a.descriptions=L),M&&(a.detailLink=M),G&&(a.sequence=G),J&&(a.show=J),W&&(a.imageURI=W),[4,fetch(d.n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(r.a)(Object(r.a)({},a),{eventId:t.eventId}))})];case 1:return(s=i.sent())?[4,s.json()]:[3,3];case 2:if(0!=(l=i.sent()).code)throw c({type:n.UPDATE_EVENT_FAILED,message:l.message.sqlMessage}),Error(l.message.sqlMessage);c({type:n.UPDATE_EVENT_SUCCESSFUL,results:l.data,message:"Update event successfull !!!"}),i.label=3;case 3:return[3,6];case 4:return i.sent(),[3,6];case 5:return $(!0),[7];case 6:return[2]}}))}))}),[f,P,k,C,U,L,M,J,G,W]);s.useEffect((function(){try{if(!a.event)return;v(a.event)}catch(e){}}),[a.event]),s.useEffect((function(){if(a.event){var e=Object(r.a)({},a.event),t=e.eventName,n=e.imageURI,s=e.beginDatetime,c=e.endDatetime,l=e.descriptions,i=e.detailLink,u=e.sequence,m=e.location,d=e.show;t&&O(t),n&&X(n||""),s&&S(s),c&&F(c),l&&x(l||""),i&&q(i),u&&K(u),m&&A(m),d&&B(d)}}),[a.event]),s.useEffect((function(){var t,a=e.match.params;t=a.eventId,Object(r.b)(void 0,void 0,void 0,(function(){var e,a,s,l,i;return Object(r.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,5,6]),c({type:n.FETCH_EVENT}),e=new URL(d.g),a={eventId:t},Object.keys(a).forEach((function(t){return e.searchParams.append(t,a[t])})),[4,fetch(e.href)];case 1:return(s=r.sent())?[4,s.json()]:[3,3];case 2:if(0!=(l=r.sent()).code)throw c({type:n.FETCH_EVENT_FAILED,message:l.message.sqlMessage}),Error(l.message.sqlMessage);c({type:n.FETCH_EVENT_SUCCESSED,event:l.data,message:"Fetch event successfull !!!"}),r.label=3;case 3:return[3,6];case 4:return i=r.sent(),alert(i.message),[3,6];case 5:return $(!0),[7];case 6:return[2]}}))}))}),[]);var me;return s.createElement(s.Fragment,null,s.createElement("h1",null,"Update Event"),s.createElement(E.a,{className:"ml-2",onClose:function(){return $(!1)},show:Z,delay:3e3,autohide:!0},s.createElement(E.a.Header,null,s.createElement(m.a,{className:"mr-1",variant:"success",style:{width:16,height:16,borderRadius:8}}),s.createElement("strong",{className:"mr-auto"},"Message")),s.createElement(E.a.Body,null,a.message)),s.createElement("div",{className:"m-4"},s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Event name")),s.createElement(u.a,{value:P,onChange:te,style:{width:"90%"},"aria-describedby":"basic-addon1"})),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Event image")),s.createElement(u.a,{value:W,onChange:ae,style:{width:"90%"},"aria-describedby":"basic-addon1"}),s.createElement("div",{className:"w-100 text-right"},W?s.createElement("img",{className:"mt-1 mb-1",src:(me=W,me.includes("https")||me.includes("http")?me:d.h+me),width:200,height:200}):null),s.createElement("form",{className:"w-100 text-right",method:"post",encType:"multipart/form-data",onSubmit:ne},s.createElement("input",{ref:ee,type:"file",name:"image"}),s.createElement(m.a,{variant:"outline-dark",type:"submit",name:"upload"},"Save image"))),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Location")),s.createElement(u.a,{value:k,onChange:re,style:{width:"90%"},"aria-describedby":"basic-addon1"})),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Link to detail")),s.createElement(u.a,{as:"textarea",value:M,onChange:ce,style:{width:"90%"},placeholder:"https://example.com/users/","aria-label":"linkToDetail","aria-describedby":"basic-addon1"})),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100"},"Start Time")),s.createElement(u.a,{value:C,"aria-describedby":"basic-addon2"}),s.createElement(i.a.Append,null,s.createElement(l.a,{className:"h-100",id:"basic-addon2",selected:C?new Date(C):g,withPortal:!0,onChange:function(e){return T(e)},timeInputLabel:"Time:",customInput:s.createElement((function(e){var t=e.value,a=e.onClick;return S(t),s.createElement(i.a.Prepend,{onClick:a},s.createElement(i.a.Text,{className:"w-100"},"Calendar"))}),null),dateFormat:"MM/dd/yyyy h:mm aa",showTimeInput:!0}))),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100"},"End Time")),s.createElement(u.a,{value:U,"aria-describedby":"basic-addon2"}),s.createElement(i.a.Append,null,s.createElement(l.a,{className:"h-100",id:"basic-addon2",selected:U?new Date(U):w,withPortal:!0,onChange:function(e){return N(e)},timeInputLabel:"Time:",customInput:s.createElement((function(e){var t=e.value,a=e.onClick;return F(t),s.createElement(i.a.Prepend,{onClick:a},s.createElement(i.a.Text,{className:"w-100"},"Calendar"))}),null),dateFormat:"MM/dd/yyyy h:mm aa",showTimeInput:!0}))),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100"},"Description")),s.createElement(u.a,{value:L,onChange:se,style:{width:"90%"},as:"textarea",placeholder:"Event description","aria-label":"eventDescription"})),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Show on client")),s.createElement(u.a,{value:J,onChange:le,style:{width:"90%"},"aria-describedby":"basic-addon1"})),s.createElement(i.a,{className:"mb-3"},s.createElement(i.a.Prepend,{style:{width:"10%"}},s.createElement(i.a.Text,{className:"w-100",id:"basic-addon1"},"Sequence")),s.createElement(u.a,{value:G,onChange:ie,style:{width:"90%"},"aria-describedby":"basic-addon1"}))),s.createElement(E.a,{className:"ml-2",onClose:function(){return $(!1)},show:Z,delay:3e3,autohide:!0},s.createElement(E.a.Header,null,s.createElement(m.a,{className:"mr-1",variant:"success",style:{width:16,height:16,borderRadius:8}}),s.createElement("strong",{className:"mr-auto"},"Message")),s.createElement(E.a.Body,null,a.message)),s.createElement("div",{className:"text-center mb-2"},s.createElement(m.a,{variant:"primary",onClick:ue},"Submit")))})))}}]);